<!doctype html>
<!-- coded by Nekomajin -->
<html lang="hu" dir="ltr">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>Adatbázis-kezelés</title>
		<link rel="icon" href="../../icons/icon16.png" sizes="16x16" type="image/png" />
		<link rel="stylesheet" href="../../styles/screen.css" type="text/css" media="screen" />
		<link rel="stylesheet" href="../../styles/print.css" type="text/css" media="print" />
		<link rel="stylesheet" href="../../styles/number.css" type="text/css" media="all" />
		<script src="../../scripts/script.js" type="text/javascript"></script>
	</head>
	<body>
		<nav>
			<a href="../../index.html">Kezdőlap</a> &bullet; <a href="#" onclick="window.print();">Nyomtatás...</a>
		</nav>
		<article>
			<header>
				<h1>Adatbázis-kezelés</h1>
				<p>A hétköznapokban számtalanszor használunk adatbázisokat akár nyomtatott, akár számítógépes formában. Ebben a fejezetben az adatbázisok felépítésével és kezelésével fogunk megismerkedni.</p>
			</header>
			<section>
				<h2>Az adatbázis</h2>
				<aside>Az adatbázis logikailag összetartozó adatok rendszerezett összessége.</aside>
				<p>A szerkezete alapján lehet hálós (fa vagy gráf) vagy táblázatos. (Ebből a szempontból a lista is táblázat, aminek csak egy oszlopa van.) A hálós adatbázis alkalmas a hierarchikus kapcsolatok tárolására, a táblázatos pedig inkább az objektumorientált szemléletet tükrözi.</p>
				<p>Mivel a leggyakrabban a táblázatos, úgynevezett relációs adatmodellt használjuk, ezért a továbbiakban ezzel fogunk foglalkozni.</p>
				<section>
					<h3>A táblázat felépítése</h3>
					<ul>
						<li>A táblázat sorokból és oszlopokból áll. A sorokat szokás rekordoknak, az oszlopokat mezőknek nevezni.</li>
						<li>Egy sor és egy oszlop metszéspontja a cella.</li>
						<li>Több szomszédos cella együtt egy tartományt alkot.</li>
					</ul>
					<p>A táblázatban az oszlopok egy-egy tulajdonságot vagy szempontot tartalmaznak, a sorok pedig az adatbázisban szereplő elemeket. Az oszlopoknak nevet vagy címet szoktunk adni, amit fejlécnek hívunk. Időnként a táblázatot 90 fokkal elforgatva használjuk, amikor a sorok kapnak fejlécet, és az oszlopok tartalmazzák az adatbázis elemeit.</p>
					<p>Kereszttáblázatról akkor beszélünk, amikor a sorok és az oszlopok is szempontokat tartalmaznak. Az adatok tárolására ez kevésbé alkalmas, ezért már létező adatbázisokból készült kimutatásokra használjuk inkább.</p>
				</section>
			</section>
			<section>
				<h2>Adattípusok</h2>
				<p>Az adatbázisban tárolt adatokat alapvetően aszerint oszthatjuk két nagy csoportra, hogy lehet-e velük matematikai műveletet végezni, vagy nem.</p>
				<section>
					<h3>Szöveges</h3>
					<p>A szöveges adatokkal <strong>nem</strong> tudunk matematikai műveletet végezni. (Relációs műveleteket viszont igen, hiszen az ábécé sorrendet el tudjuk dönteni.)</p>
					<p>A szöveges adatok tartalmazhatnak számjegyeket is, és állhatnak csupán számjegyekből is. Például az irányítószámot vagy a telefonszámot tárolhatjuk szövegként is, hiszen matematikai műveletet úgysem akarunk velük végezni.</p>
					<p>A szöveges adatokat csak akkor lehet számszerű adatokká konvertálni, ha nem tartalmaznak olyan karaktert, ami a számszerű adatoknál nem megengedett. A szöveg méretét, hosszát a karakterek számával szoktuk megadni.</p>
				</section>
				<section>
					<h3>Számszerű</h3>
					<p>A számszerű adatokkal matematikai és relációs műveleteket is tudunk végezni.</p>
					<p>A számjegyeken kívül néhány egyéb karaktert is tartalmazhatnak. Például előjelet, törtjelet, tizedes vesszőt vagy tizedes pontot, a komplex számok képzetes részét (<span class="code">i</span>) vagy a normálalak műszaki jelölését (<span class="code">E</span>).</p>
					<p>A számszerű adatokat minden esetben könnyen szöveges adatokká lehet alakítani. Méretüket a tároláshoz szükséges byte-ok számával szoktuk megadni.</p>
					<p>A számszerű adatokat többféle altípusba soroljuk.</p>
					<section>
						<h4 class="no-number">Szám</h4>
						<p>A számokon belül megkülönböztetünk egészeket és tizedestörteket. Értelem szerint egész számokat tudunk tört formában tárolni, fordítva viszont adatvesztés léphet fel, mert a törtrész elveszik, és csak az egészrész marad meg.</p>
					</section>
					<section>
						<h4 class="no-number">Dátum és idő</h4>
						<p>A számítógép a dátumot és időt valamilyen kezdődátum óta eltelt időegység (nap, másodperc, ezredmásodperc) formájában tárolja. Például a Microsoft Excel az 1900. január 1-et tekinti kezdődátumnak. Így az 1900. február 1. megfelel a 32-es számnak.</p>
						<p>Az idő jelölésére egyes programok tizedestörteket is használnak. Például ha az éjfél 1, akkor az adott nap dél 0,5-ként írható le.</p>
					</section>
					<section>
						<h4 class="no-number">Logikai</h4>
						<p>A logikai adattípus igen-nem értékeket tartalmaz. Megegyezés szerint a hamis értéket 0, az igaz értéket pedig 1 vagy -1 jelképezi.</p>
					</section>
				</section>
				<section>
					<h3>NULL érték</h3>
					<p>Egy adatbázis létrehozásakor előfordulhat, hogy valamilyen adatot még nem ismerünk vagy nem akarunk megadni. Ebben az esetben jelölni kell, hogy az adat hiányzik. Erre szolgál a NULL érték, ami a gyakorlatban üres cellaként jelenik meg.</p>
					<p>A NULL érték nem egy újabb adattípus. A hiányzó adat típusát mindig az adott oszlop típusa határozza meg.</p>
					<p>Fontos, hogy a NULL érték nem egyenlő a 0-val. Például ha az a kérdés, hogy <em>"Hány könyvet olvastál el a nyári szünetben?"</em>, akkor a válasz lehet <em>"Egyet sem."</em> (0) vagy <em>"Nem tudjuk."</em> (NULL).</p>
				</section>
			</section>
			<section>
				<h2>Műveletek</h2>
				<p>Az adatbázisok természetesen nem maguktól születnek, létre kell őket hozni. A kész adatbázisok szerkezetét és tartalmát gyakran módosítjuk, a tárolt adatokból pedig információt nyerünk ki, és azokat megjelenítjük.</p>
				<section>
					<h3>Tervezés</h3>
					<p>Az adatbázis kialakításánál több szempontot is figyelembe kell venni. Először is el kell dönteni, hogy milyen tulajdonságokat akarunk figyelembe venni, azaz milyen oszlopokat fogunk használni. Például ha személyek adatait akarjuk nyilvántartani, akkor mindenképpen szükség lesz a névre, nemre, esetleg a születési dátumra, lakcímre.</p>
					<p>Fontos szempont, hogy egy oszlopba csak egy adat kerüljön. Például ha lakcímet akarunk tárolni, akkor szerencsésebb egy "lakcím" oszlop helyett külön "település", "utca" és "házszám" oszlopokat használni, mert így könnyebben meg tudjuk majd keresni az ugyanabban az utcában lakó embereket.</p>
					<section>
						<h4>Elsődleges kulcs</h4>
						<p>Minél nagyobb egy adatbázis, annál nagyobb az esélye, hogy a táblázatnak lesz két olyan sora, ami azonos adatokat tartalmaz. Például ha apa és fia neve megegyezik, és ugyanott laknak, akkor előfordulhat ismétlődés. Természetesen ezt a problémát megoldhatjuk, ha eltároljuk például a születési dátumukat, de egyáltalán nem biztos, hogy azt ismerjük. Ha ilyen eset előfordul, az óriási problémát jelent, mert utólag nem fogjuk tudni, hogy ugyanaz a személy szerepel kétszer a táblázatban, vagy két különböző személyről van szó, akiknek minden adata megegyezik.</p>
						<p>Ennek a problémának a megoldására szolgál az elsődleges kulcs (más néven azonosító), ami <strong>a táblázatnak egy olyan oszlopa, ami egyértelműen azonosítja a sorokat</strong>. Ez lehet egyébként is a táblázat része (pl.: személyi igazolvány szám), vagy egy olyan oszlop, amit kifejezetten erre a célra hozunk létre (pl.: sorszám). Ami fontos, hogy csak olyan oszlopot választhatunk elsődleges kulcsnak, amiben nincsenek üres cellák és ismétlődő értékek, hiszen az oszlop minden cellájában egyedi értéknek kell lenni.</p>
					</section>
					<section>
						<h4>Külső kulcs</h4>
						<p>Gyakran előfordul, hogy egy adatbázisban nem csak egyféle adatcsoportot tárolunk. A példánál maradva, ha a személyek mellett az általuk tulajdonolt járművek adatait is szeretnénk nyilvántartani, akkor azokat egy külön táblázatban célszerű elhelyezni.</p>
						<p>Erre nemcsak azért van szükség, hogy a kétféle adatcsoportot logikailag szétválasszuk, hanem azért is, mert azok összevegyítése ismétlődéseket eredményezne a közös táblázatban. Ha egy személynek két járműve is van (pl.: egy autó és egy motor), akkor az ő saját adatait két sorban is tárolni kellene. Ez egyrészt feleslegesen növeli az adatbázis méretét, másrészt ugyanolyan bizonytalanságot szül, mint az elsődleges kulcs hiánya.</p>
						<p>Célszerű tehát, ha az adatbázisunk két táblázatból áll. Az egyikben a személyek, a másikban a járművek adataival. Ekkor viszont felmerül az a probléma, hogy honnan fogjuk tudni, hogy melyik jármű kihez tartozik.</p>
						<p>Erre találták fel a külső kulcsot, ami <strong>az egyik táblának egy olyan oszlopa, ami a másik táblának az elsődleges kulcsa</strong>. Jelen esetben a "jármű" táblába felvehetünk egy olyan oszlopot, ami a tulajdonos azonosítóját tartalmazza. Ez az azonosító a "személy" tábla elsődleges kulcsa. Ennek segítségével meg tudjuk keresni a két táblázatban egymáshoz tartozó sorokat.</p>
					</section>
				</section>
				<section>
					<h3>Keresés, szűrés</h3>
					<p>Az adatbázisok létrehozásának egyik fő célja, hogy azokban minél könnyebben tudjunk adatokat megkeresni. Ilyenkor mindig azt kell először eldönteni, hogy a táblázat mely oszlopait szeretnénk viszontlátni, mert a felesleges oszlopok zavarhatják az adatok további feldolgozását vagy értelmezését.</p>
					<p>További nehézséget okozhat, hogy a keresett értéknek gyakran többféle feltételnek is meg kell felelni. Ilyen esetekben arra kell figyelni, hogy két kiválaszott feltétel között milyen logikai kapcsolat van. (Erről bővebben a <a href="../logic/index.html" target="_blank"><em>Logikai műveletek</em></a> című fejezetben olvashatsz.)</p>
				</section>
				<section>
					<h3>Statisztikai számítások</h3>
					<p>Gyakori eset, hogy olyan adatot szeretnénk megismerni, ami közvetlenül nem található meg az adatbázisban, hanem az ott tárolt adatokból lehet csak kiszámítani. Az ilyen problémákat két lépésre kell bontani. Először ki kell szűrni azkat az adatokat, amikre szükségünk van, majd el kell végezni rajtuk a kívánt számítást (darabszám, összeg, átlag, stb.).</p>
				</section>
				<section>
					<h3>Rendezés</h3>
					<p></p>
				</section>
				<section>
					<h3>Megjelenítés</h3>
					<p></p>
				</section>
			</section>
		</article>
		<footer>
			<button type="button" id="up">Ugrás a lap tetejére</button>
		</footer>
	</body>
</html>